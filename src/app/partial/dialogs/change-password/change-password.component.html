<div class="dialog-header">
    <span>{{'Home.change_pass' | translate}}</span>
    <button mat-icon-button (click)="closeDialog()">
        <span class="material-symbols-outlined">
            close
        </span>
    </button>
</div>
<div class="dialog-body">
    <div class="row">
        <div class="col-sm-7">
            <form [formGroup]="changePasswordFrm" (ngSubmit)="onSubmit()">
                <div class="mb-3">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>{{'Home.currentPassword' | translate}}</mat-label>
                        <input matInput [type]="hideCurrentPass ? 'password' : 'text'" formControlName="oldPassword" maxlength="20" autocomplete="off"
                         (keypress)="validation.noSpaces($event)" (keyup)="validationaddremove()">
                        <button type="button" mat-icon-button matSuffix (click)="hideCurrentPass = !hideCurrentPass" [attr.aria-label]="'Hide password'"
                            [attr.aria-pressed]="hideCurrentPass">
                            <span class="material-symbols-outlined">{{hideCurrentPass ? 'visibility_off' : 'visibility'}}</span>
                        </button>
                        <mat-error  *ngIf="f['oldPassword'].hasError('required')">
                           {{'Home.currentPassword_req' | translate}}
                        </mat-error>
                        <mat-error  *ngIf="f['oldPassword'].hasError('pattern')">
                            {{'Home.currentPassword_patt' | translate}}
                        </mat-error>
                        <mat-error *ngIf="changePasswordFrm.controls['oldPassword'].hasError('Matched')">
                            {{'Home.currentPassword_match' | translate}}
                          </mat-error>
                    </mat-form-field>
                </div>
                <div class="mb-3">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label> {{'Home.new_pass' | translate}}</mat-label>
                        <input matInput [type]="hideNewPass? 'password' : 'text'" formControlName="newPassword"  maxlength="20" autocomplete="off" 
                        (keypress)="validation.noSpaces($event)" (keyup)="validationaddremove()">
                        <button type="button" mat-icon-button matSuffix (click)="hideNewPass= !hideNewPass" [attr.aria-label]="'Hide password'"
                            [attr.aria-pressed]="hideNewPass">
                            <span class="material-symbols-outlined">{{hideNewPass ? 'visibility_off' : 'visibility'}}</span>
                        </button>
                        <mat-error  *ngIf="f['newPassword'].hasError('required')">
                            {{'Home.new_pass_req' | translate}}
                        </mat-error>
                        <mat-error *ngIf="f['newPassword'].hasError('pattern')">
                            {{'Home.new_pass_patt' | translate}}
                         </mat-error>
                        
                    </mat-form-field>
                </div>
                <div class="mb-3">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>{{'Home.confirm_pass' | translate}}</mat-label>
                        <input matInput [type]="hideConfirmPass ? 'password' : 'text'" formControlName="confirmPassword"  maxlength="20" autocomplete="off" (keypress)="validation.noSpaces($event)">
                        <button type="button" mat-icon-button matSuffix (click)="hideConfirmPass = !hideConfirmPass" [attr.aria-label]="'Hide password'"
                            [attr.aria-pressed]="hideConfirmPass">
                            <span class="material-symbols-outlined">{{hideConfirmPass ? 'visibility_off' : 'visibility'}}</span>
                        </button>
                        <mat-error *ngIf="f['confirmPassword'].hasError('required')">
                            {{'Home.confirm_pass_req' | translate}}
                        </mat-error>
                        <mat-error *ngIf="f['confirmPassword'].hasError('pattern')">
                            {{'Home.confirm_pass_patt' | translate}}
                         </mat-error>
                         <mat-error *ngIf="changePasswordFrm.controls['confirmPassword'].hasError('notMatched')">
                            New Password and Confirm Password not matching.
                          </mat-error>
                          <mat-error *ngIf="changePasswordFrm.controls['confirmPassword'].hasError('Matched')">
                            {{'Home.currentPassword_match' | translate}}
                          </mat-error>
                    </mat-form-field>
                </div>
                <div class="mb-0 text-end">
                    <button type="button" mat-stroked-button class="bg-main-light text-main me-2"
                        (click)=" ClearAll()">{{'Home.cancel' | translate}}</button>
                    <button mat-stroked-button class="bg-main">{{'Home.change_pass'| translate}}</button>
                </div>
            </form>
        </div>
        <div class="col-sm-5">
            <p class="mb-1">{{'Home.note' | translate}} :</p>
            <ul class="notes">
                <li>{{'Home.char_Note' | translate}}</li>
                <li>{{'Home.num_note' | translate}}</li>
                <li>{{'Home.case_note' | translate}} </li>
                <!-- <li>Must contain at least 1 Letter in Small Case!</li> -->
                <li>{{'Home.special_charNote' | translate}}</li>
            </ul>
        </div>
    </div>
</div>